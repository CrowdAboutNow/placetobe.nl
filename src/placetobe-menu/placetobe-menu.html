<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../placetobe-styles/placetobe-styles.html">
<link rel="import" href="../placetobe-menu-icon/placetobe-menu-icon.html">
<link rel="import" href="../placetobe-hero/placetobe-hero-background.html">

<dom-module id="placetobe-menu">
  <style>
    :host {
      display: block;
      width: 100%;
      height: auto;
      background-color: var(--background-color, --placetobe-darkblue);
      padding: 54px 0;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      overflow: hidden;
      position: relative;
    }

    :host placetobe-menu-icon {
      position: absolute;
      --tint-color: white;
      width: 36px;
      height: 36px;
      right:18px;
      top: 36px;
      display: none;
    }

    :host[scrolled] placetobe-menu-icon {
      top: 18px;
    }

    @media(max-width: 959px) {
      :host placetobe-menu-icon {
        display: block;
      }
    }

    @media(max-width: 959px) {
      :host {
        padding: 18px;
      }
    }

    :host main, :host footer {
      margin: 0 auto;
      text-align: center;
    }

    :host main {
      margin-bottom: 18px;
    }

    @media(max-width: 959px) {
      :host main, :host footer {
        max-width: auto;
        text-align: left;
        margin-top: 72px;
      }      
    }

    :host main a {
      @apply(--placetobe-flat-button);
      @apply(--placetobe-two-column-item);
      color: white;
      position: relative;
      text-decoration: none;
      padding: 0 18px 0 17px;
    }

    @media(max-width: 959px) {
      :host main a {
        max-width: none;
        display: block;
        margin: 9px 0;
        -webkit-tap-highlight-color: transparent;
      }
    }

    :host main a:not(:last-child):after {
      position: absolute;
      top: -6px;
      right:0px;
      height: 36px;
      content:"";
      width: 1px;
      background-color: rgba(255, 255, 255, 0.8);
    }

    :host footer {
      display: block;
    }

    @media(max-width: 959px) {
      :host a:not(:last-child):after {
        display: none;
      }
    }

    :host footer, :host footer a {
      @apply(--placetobe-body--phone);
      color: white;
      font-size: 16px;
      -webkit-tap-highlight-color: transparent;
    }

    :host footer span {
      display: block;
      text-align: center;
      width: 100%;
      z-index: 2;
      position: relative;
    }

    :host footer a {
      text-decoration: underline;          
    }

    :host placetobe-hero-background {
      position: absolute;
      width: var(--placetobe-two-column-width);
      height: 100%;
      left: 50%;
      bottom: 0;
      transform: translateX(-50%);
      z-index: 0;
      opacity: 0.1;
    }

    @media(max-width: 959px) {
      :host ::content placetobe-investor-registration-form {
        display: none;
      }
    }

  </style>
  <template>

  <placetobe-hero-background></placetobe-hero-background>

  <placetobe-menu-icon close on-tap="_handleCloseTap"></placetobe-menu-icon>

  <main>

    <content></content>

    <a on-tap="_handleLinkTap" href="/" title="place to be">Home</a>
    <a on-tap="_handleLinkTap" href="/start-project" title="start een project">Start een project</a>
    <a on-tap="_handleLinkTap" href="/investeren" title="investeren">Investeer</a>
    <a on-tap="_handleLinkTap" href="/investeren/test" title="doe de quickscan">Quickscan investeren</a>
  </main>

  <footer>
    <span>Placetobe is een initiatief van <a target="_blank" href="http://www.socius-wonen.nl/" title="Socius Wonen">Socius Wonen</a> & <a target="_blank" href="https://crowdaboutnow.nl" title="CrowdAboutNow">CrowdAboutNow</a></span>
  </footer>

  </template>
  <script>
    Polymer({

      is: 'placetobe-menu',

      properties: {
        scrolled: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        }
      },

      _handleCloseTap: function(evt) {
        this.fire("link-tap", window.location.href)        
      },

      _handleLinkTap: function(evt) {
        this.fire("link-tap", evt.target.href)
      }

    });
  </script>
</dom-module>
