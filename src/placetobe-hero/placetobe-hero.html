<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../placetobe-styles/placetobe-styles.html">
<link rel="import" href="../placetobe-illustrations/man-holding-key-illustration.html">
<link rel="import" href="../placetobe-illustrations/man-thinking-illustration.html">
<link rel="import" href="../placetobe-illustrations/man-reading-illustration.html">
<link rel="import" href="../placetobe-quickscan/placetobe-investor-quickscan.html">
<link rel="import" href="../placetobe-investor-registration-form/placetobe-investor-registration-form
.html">

<dom-module id="placetobe-hero">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        min-height: 753px;
        display: flex;
        transition: 0.5s all;
        position: relative;
        overflow: hidden;
      }

      :host:after {
        position: absolute;
        background-image: linear-gradient(-180deg, rgba(0,0,0,0.00) 0%, #000000 100%);
        content: "";
        top: -100px;
        left: -200px;
        right: -200px;
        bottom: 100px;
        opacity: 0.3;
        transform: rotate(-4deg);
        z-index: 0;
        transition: 0.5s transform;
      }

      :host[entrepreneur-page-active][entrepreneur-test-page-active], :host[invest-page-active][invest-sub-page-active] {
        min-height:100vh;
        padding-bottom: 36px;
      }

      :host[invest-page-active]:after {
        transform: rotate(3deg);
      }

      :host[entrepreneur-page-active]:after {
        transform: rotate(-8deg) translateY(-50px);
      }

      :host[home-page-active] {
        background-color: var(--placetobe-red);        
      }

      :host[invest-page-active] {
        background-color: var(--placetobe-green);        
      }

      :host[entrepreneur-page-active] {
        background-color: var(--placetobe-blue);        
      }

      :host > section {
        flex: 1;
        @apply(--placetobe-two-column-layout);
      }

      @media (max-width: 959px) {
        :host > section {
          @apply(--placetobe-two-column-layout--phone);
        }        
      }

      :host > section article {
        @apply(--placetobe-two-column-item);
        @apply(--placetobe-heading3);
        text-align: left;
        position: relative;
        z-index: 2;
        justify-content: center;
      }

      @media (max-width: 959px) {
        :host > section article {
          @apply(--placetobe-heading3--phone);          
          position: relative;
          margin-top: 130px;
        }
      }

      :host > section article .intro-text {
        position: absolute;
        transition: 0.5s all;
        bottom:90px;
      }

      @media (max-width: 959px) {
        :host > section article .intro-text {
          bottom:auto;
        }
      }


      :host > section article .intro-text[hidden] {
        opacity: 0;
        color: transparent;
        display: block;
        transform: translateY(50px);
        pointer-events: none;
      }

      :host > section div {
        @apply(--placetobe-two-column-item);
        display: flex;
        position: relative;
      }

      @media (min-width: 959px and max-width: 1236px) {
        :host > section div {
          display: flex;
          max-width: 100%;
          justify-content: flex-end;
        }
      }

      @media (max-width: 600px) {
        :host > section div {
          display: flex;
          max-width: 100%;
          justify-content: flex-start;
        }
      }

      :host .illustration {
        z-index: 1;
        position: relative;
        position: absolute;
        width: 100%;
        bottom: -6px;
        transition: 0.5s all;
      }

      @media (max-width: 959px) {
        :host .illustration {
          max-width: 50%;
          z-index: 1;
        }
      }

      :host .illustration[hidden] {
        opacity: 0;
        transform: translateY(100px) translateX(50px);
      }

      :host placetobe-investor-quickscan:not([hidden]) {
        display: block;
        position: absolute;
        bottom: 50%;
      }

      @media (max-width: 959px) {
        :host placetobe-investor-quickscan:not([hidden]) {
          position: relative;
        }
         :host[invest-page-active][invest-sub-page-active] .illustration {
            display: none;
         }
      }

      :host placetobe-button {
        display: block;
      }

      :host placetobe-button[flat] {
        --text-color: white;
      }
    </style>

    <section>

      <article>
        
        <span
          class="intro-text"
          hidden$="[[!homePageActive]]">Dé plek voor het crowdfunden van vastgoed in Nederland.<p>
        <placetobe-button
          label="Hoe start ik een project?"
          url="/start-project"
        ></placetobe-button>
        <placetobe-button
          label="Informatie over investeren"
          url="/investeren"
          flat
        ></placetobe-button>
        </p>
        </span>

        <span
          class="intro-text"
          hidden$="[[!entrepreneurPageActive]]">
          <span hidden$="[[entrepreneurTestPageActive]]">
          Gebouwen houden van mensen. Wij helpen je de juiste mensen te bereiken: investeerders én gebruikers.<p>
            <placetobe-button
              label="Direct je project starten"
              url="https://docs.google.com/forms/d/e/1FAIpQLSdFZhTSDI4kRKZlLedroXEmMCEAGVB6fUPSYJkdIL9jrQR1yg/viewform"
              external-link
            ></placetobe-button>
            <placetobe-button
              id="prices-button"
              label="Bekijk onze tarieven"
              on-tap="scrollToPricing"
              flat
            ></placetobe-button>
          </p>
          </span>
        </span>
<!-- 
        <span
          hidden$="[[!entrepreneurPageActive]]">
          <placetobe-quickscan
            hidden$="[[!entrepreneurTestPageActive]]"
            target="entrepreneurs"
          ></placetobe-quickscan>
        </span> -->

        <span
          hidden$="[[!investPageActive]]">
          
          <placetobe-investor-quickscan
            hidden$="[[!investQuickscanPageActive]]"
          ></placetobe-investor-quickscan>
          <placetobe-investor-registration-form
            hidden$="[[!investRegisterPageActive]]"
          ></placetobe-investor-registration-form>

        </span>

        <span
          class="intro-text"
          hidden$="[[!investPageActive]]">
          <span hidden$="[[investSubPageActive]]">
          De betrouwbaarste vorm van beleggen. Gebruiksvriendelijk. Veilig. Samen.<p>
            <placetobe-button
              label="Meld je aan als investeerder"
              url="/investeren/aanmelden"
            ></placetobe-button>
            <placetobe-button
              label="Doe de quickscan"
              url="/investeren/test"
              on-tap="scrollToPricing"
              flat
            ></placetobe-button>
          </p>
          </span>
        </span>

      </article>

      <div>

        <man-holding-key-illustration
        hidden$="[[!homePageActive]]"
        class="illustration"
        ></man-holding-key-illustration>

        <man-thinking-illustration
        hidden$="[[!investPageActive]]"
        class="illustration"
        ></man-thinking-illustration>

        <man-reading-illustration
        hidden$="[[!entrepreneurPageActive]]"
        class="illustration"
        ></man-reading-illustration>

      </div>

    </section>

  </template>

  <script>
    Polymer({

      is: 'placetobe-hero',

      properties: {
        homePageActive: {
          type: Boolean,
          reflectToAttribute: true
        },
        investPageActive: {
          type: Boolean,
          reflectToAttribute: true
        },
        entrepreneurPageActive: {
          type: Boolean,
          reflectToAttribute: true
        },
        entrepreneurTestPageActive: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        investQuickscanPageActive: {
          type: Boolean,
          value: false,
          reflectToAttribute: true          
        },
        investRegisterPageActive: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        investSubPageActive: {
          type: Boolean,
          reflectToAttribute: true,
          computed: "_computeInvestSubPageActive(investQuickscanPageActive, investRegisterPageActive)"
        }
      },

      scrollToPricing: function() {
        window.scrollTo(0, document.querySelector("placetobe-pricing").offsetTop - 72)
      },

      _computeInvestSubPageActive(investQuickscanPageActive, investRegisterPageActive) {
        return (investQuickscanPageActive === true || investRegisterPageActive === true)
      }

    });
  </script>
</dom-module>
