<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../placetobe-styles/placetobe-styles.html">
<link rel="import" href="../placetobe-illustrations/man-holding-key-illustration.html">
<link rel="import" href="../placetobe-illustrations/man-thinking-illustration.html">
<link rel="import" href="../placetobe-illustrations/man-reading-illustration.html">
<link rel="import" href="../placetobe-quickscan/placetobe-investor-quickscan.html">
<link rel="import" href="../placetobe-button/placetobe-button.html">
<link rel="import" href="../placetobe-investor-registration-form/placetobe-investor-registration-form.html">
<link rel="import" href="placetobe-hero-background.html">

<dom-module id="placetobe-hero">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        min-height: 600px;
        display: flex;
        transition: 0.5s all;
        position: relative;
        overflow: hidden;
        background-color: #60D1D6;        
      }

      :host:after {
        position: absolute;
        content: "";
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        opacity: 0.4;
        z-index: 0;
        transition: 0.5s all;
      }

      :host[entrepreneur-page-active][entrepreneur-test-page-active], :host[invest-page-active][invest-sub-page-active] {
        min-height: 100vh;
      }

      :host[entrepreneur-page-active][entrepreneur-test-page-active] section article, :host[invest-page-active][invest-sub-page-active] section article {
        margin-bottom: 36px;
      }

      :host[home-page-active]:after {
        background: linear-gradient(-270deg, #1329CE 0%, #FFFFFF 100%);
      }

      :host[invest-page-active]:after {
        background: linear-gradient(-270deg, var(--placetobe-taupe) 0%, #FFFFFF 100%);
        opacity: 0.2;
/*        transform: rotate(3deg);
*/      }

      :host[entrepreneur-page-active]:after {
        background: linear-gradient(-270deg, var(--placetobe-yellow) 0%, #FFFFFF 100%);
/*        transform: rotate(-8deg) translateY(-50px);
*/      }

      :host[home-page-active] {
      }

      :host[invest-page-active] {
      }

      :host[entrepreneur-page-active] {
      }

      :host > section {
        flex: 1;
        @apply(--placetobe-two-column-layout);
      }

      @media (max-width: 959px) {
        :host > section {
          @apply(--placetobe-two-column-layout--phone);
        }        
      }

      :host > section article {
        @apply(--placetobe-two-column-item);
        @apply(--placetobe-heading2-regular);
        text-align: left;
        position: relative;
        z-index: 2;
        justify-content: center;
      }

      @media (max-width: 959px) {
        :host > section article {
          position: absolute;
          bottom: 0;
        }
      }

      :host > section article .intro-text {
        position: absolute;
        transition: 0.5s all;
        bottom:90px;
      }

      @media (max-width: 959px) {
        :host > section article .intro-text {
          bottom:auto;
        }
      }


      :host > section article .intro-text[hidden] {
        opacity: 0;
        color: transparent;
        display: block;
        transform: translateY(50px);
        pointer-events: none;
      }

      :host > section div {
        @apply(--placetobe-two-column-item);
        display: flex;
        position: relative;
      }

      @media (min-width: 959px and max-width: 1236px) {
        :host > section div {
          display: flex;
          max-width: 100%;
          justify-content: flex-end;
        }
      }

      @media (max-width: 600px) {
        :host > section div {
          display: flex;
          max-width: 100%;
          justify-content: flex-start;
        }
      }

      :host .illustration {
        z-index: 1;
        position: relative;
        position: absolute;
        width: 100%;
        bottom: -6px;
        transition: 0.5s all;
        transform: scale(0.75, 0.75);
        transform-origin: 100% 100%;
      }

      @media (max-width: 959px) {
        :host .illustration {
          max-width: 50%;
          z-index: 1;
        }
      }

      :host .illustration[hidden] {
        opacity: 0;
        transform: translateY(100px) translateX(50px) scale(0.75, 0.75);
      }

      :host placetobe-investor-quickscan:not([hidden]), :host placetobe-investor-registration-form:not([hidden]) {
        display: block;
        position: absolute;
        bottom: 0%;
      }

      @media (max-width: 959px) {
        :host placetobe-investor-quickscan:not([hidden]), placetobe-investor-registration-form:not([hidden]) {
          position: relative;
        }
         :host[invest-page-active][invest-sub-page-active] .illustration {
            display: none;
         }
      }

      :host placetobe-button {
        display: block;
        margin-bottom: 18px;
      }

      :host placetobe-button[flat] {
        --text-color: white;
      }

      :host placetobe-hero-background {
        position: absolute;
        width: 463px;
        height: 328px;
        bottom:0;
        left:50%;
        transform: translateX(-50%);
      }
    </style>

    <section>

      <placetobe-hero-background
        car-parked="[[investPageActive]]"
        car-gone="[[entrepreneurPageActive]]"
      ></placetobe-hero-background>

      <article>
        
        <span
          class="intro-text"
          hidden$="[[!homePageActive]]"><b>Iedereen heeft een plek nodig.</b> Een plek om te wonen, werken, ondernemen, relaxen... Een plek om te zijn.<p>
        <placetobe-button
          label="Hoe start ik een project?"
          url="/start-project"
        ></placetobe-button>
        <placetobe-button
          label="Info voor investeerders"
          url="/investeren"
          flat
        ></placetobe-button>
        </p>
        </span>

        <span
          class="intro-text"
          hidden$="[[!entrepreneurPageActive]]">
          <span hidden$="[[entrepreneurTestPageActive]]">
          <b>Geen gebouw neerzetten, maar een plek maken.</b> Vastgoed ontwikkel je samen met de crowd.
          <p>
            <placetobe-button
              label="Direct je project starten"
              url="https://docs.google.com/forms/d/e/1FAIpQLSdFZhTSDI4kRKZlLedroXEmMCEAGVB6fUPSYJkdIL9jrQR1yg/viewform"
              external-link
            ></placetobe-button>
            <placetobe-button
              id="prices-button"
              label="Bekijk onze tarieven"
              on-tap="scrollToPricing"
              flat
            ></placetobe-button>
          </p>
          </span>
        </span>

        <span
          hidden$="[[!investPageActive]]">
          
          <placetobe-investor-quickscan
            hidden$="[[!investQuickscanPageActive]]"
          ></placetobe-investor-quickscan>
          <placetobe-investor-registration-form
            hidden$="[[!investRegisterPageActive]]"
          ></placetobe-investor-registration-form>

        </span>

        <span
          class="intro-text"
          hidden$="[[!investPageActive]]">
          <span hidden$="[[investSubPageActive]]">
          <b>Crowdfunding in vastgoed.</b> Iedereen een plek en jij rendement.<p>
            <placetobe-button
              label="Meld je aan als investeerder"
              url="/investeren/aanmelden"
            ></placetobe-button>
            <placetobe-button
              label="Doe de quickscan"
              url="/investeren/test"
              on-tap="scrollToPricing"
              flat
            ></placetobe-button>
          </p>
          </span>
        </span>

      </article>

      <div>

        <man-holding-key-illustration
        hidden$="[[!homePageActive]]"
        class="illustration"
        ></man-holding-key-illustration>

        <man-thinking-illustration
        hidden$="[[!investPageActive]]"
        class="illustration"
        ></man-thinking-illustration>

        <man-reading-illustration
        hidden$="[[!entrepreneurPageActive]]"
        class="illustration"
        ></man-reading-illustration>

      </div>

    </section>

  </template>

  <script>
    Polymer({

      is: 'placetobe-hero',

      properties: {
        homePageActive: {
          type: Boolean,
          reflectToAttribute: true
        },
        investPageActive: {
          type: Boolean,
          reflectToAttribute: true
        },
        entrepreneurPageActive: {
          type: Boolean,
          reflectToAttribute: true
        },
        entrepreneurTestPageActive: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        investQuickscanPageActive: {
          type: Boolean,
          value: false,
          reflectToAttribute: true          
        },
        investRegisterPageActive: {
          type: Boolean,
          value: false,
          reflectToAttribute: true
        },
        investSubPageActive: {
          type: Boolean,
          reflectToAttribute: true,
          computed: "_computeInvestSubPageActive(investQuickscanPageActive, investRegisterPageActive)"
        }
      },

      scrollToPricing: function() {
        window.scrollTo(0, document.querySelector("placetobe-pricing").offsetTop - 72)
      },

      _computeInvestSubPageActive: function(investQuickscanPageActive, investRegisterPageActive) {
        return (investQuickscanPageActive === true || investRegisterPageActive === true)
      }

    });
  </script>
</dom-module>
